/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.8.0
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-selection"),require("d3-brush")):"function"==typeof define&&define.amd?define("bb",["d3-selection","d3-brush"],e):"object"==typeof exports?exports.bb=e(require("d3-selection"),require("d3-brush")):(t.bb=t.bb||{},t.bb.plugin=t.bb.plugin||{},t.bb.plugin.tableview=e(t.d3,t.d3))}(this,(function(t,e){return function(){"use strict";var n=[,function(e){e.exports=t},,function(t){t.exports=e}],i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,o),r.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};return function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function n(t,n,i){return(n=e(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function i(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}o.d(r,{default:function(){return B}});var u=function(){function t(t){void 0===t&&(t={}),this.$$=void 0,this.options=void 0,this.options=t}var e=t.prototype;return e.$beforeInit=function(){},e.$init=function(){},e.$afterInit=function(){},e.$redraw=function(){},e.$willDestroy=function(){var t=this;Object.keys(this).forEach(function(e){i(this,t),this[e]=null,delete this[e]}.bind(this))},t}();u.version="3.8.0";var s=function(){return{selector:void 0,categoryTitle:"Category",categoryFormat:function(t){var e=t;return this.$$.axis.isCategorized()?e=this.$$.categoryName(t):this.$$.axis.isTimeSeries()&&(e=t.toLocaleDateString()),e},class:void 0,style:!0,title:void 0,updateOnToggle:!0}},l="__tableview-style__",f="bb-tableview",b=".bb-tableview {\n\t\tborder-collapse:collapse;\n\t\tborder-spacing:0;\n\t\tbackground:#fff;\n\t\tmin-width:100%;\n\t\tmargin-top:10px;\n\t\tfont-family:sans-serif;\n\t\tfont-size:.9em;\n\t}\n\t.bb-tableview tr:hover {\n\t\tbackground:#eef7ff;\n\t}\n\t.bb-tableview thead tr {\n\t\tbackground:#f8f8f8;\n\t}\n\t.bb-tableview caption,.bb-tableview td,.bb-tableview th {\n\t\ttext-align: center;\n\t\tborder:1px solid silver;\n\t\tpadding:.5em;\n\t}\n\t.bb-tableview caption {\n\t\tfont-size:1.1em;\n\t\tfont-weight:700;\n\t\tmargin-bottom: -1px;\n\t}",d="<caption>{=title}</caption>\n\t\t<thead><tr>{=thead}</tr></thead>\n\t\t<tbody>{=tbody}</tbody>",h='<th scope="col">{=title}</th>',v='<th scope="row">{=value}</th>',p="<td>{=value}</td>",y=(o(1),o(3),void 0),g=function(){return i(this,y),"object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")()}.bind(void 0)(),m="function"==typeof g.requestAnimationFrame,w="function"==typeof g.requestIdleCallback,O=m?g.requestAnimationFrame:function(t){return i(this,y),setTimeout(t,1)}.bind(void 0),j=m?g.cancelAnimationFrame:function(t){return i(this,y),clearTimeout(t)}.bind(void 0),E=(w&&g.requestIdleCallback,w&&g.cancelIdleCallback,null==g?void 0:g.document),T=void 0;(function(t){return i(this,T),t||0===t}).bind(void 0),function(t){return i(this,T),"function"==typeof t}.bind(void 0);var $=function(t){return i(this,T),"string"==typeof t}.bind(void 0),x=function(t){return i(this,T),"number"==typeof t}.bind(void 0),S=function(t){return i(this,T),void 0===t}.bind(void 0),P=function(t){return i(this,T),void 0!==t}.bind(void 0),C=(function(t){return i(this,T),"boolean"==typeof t}.bind(void 0),function(t){return i(this,T),10*Math.ceil(t/10)}.bind(void 0),function(t){return i(this,T),Math.ceil(t)+.5}.bind(void 0),function(t){return i(this,T),t[1]-t[0]}.bind(void 0),function(t){return i(this,T),"object"==typeof t}.bind(void 0)),k=function(t){return i(this,T),S(t)||null===t||$(t)&&0===t.length||C(t)&&!(t instanceof Date)&&0===Object.keys(t).length||x(t)&&isNaN(t)}.bind(void 0),M=(function(t){return i(this,T),!k(t)}.bind(void 0),function(t){return i(this,T),Array.isArray(t)}.bind(void 0)),_=function(t){return i(this,T),t&&!(null!=t&&t.nodeType)&&C(t)&&!M(t)}.bind(void 0);(function(t){return i(this,T),t.charAt(0).toUpperCase()+t.slice(1)}).bind(void 0);(function(t){return i(this,T),[].slice.call(t)}).bind(void 0);function q(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];if(!o.length||1===o.length&&!o[0])return t;var c=o.shift();return _(t)&&_(c)&&Object.keys(c).forEach(function(n){i(this,e);var o=c[n];_(o)?(t[n]||(t[n]={}),t[n]=q(t[n],o)):t[n]=M(o)?o.concat():o}.bind(this)),q.apply(void 0,[t].concat(o))}(function(t,e,n){void 0===n&&(n=1),i(this,T);for(var o=[],r=0|Math.max(0,Math.ceil((e-t)/n)),c=t;c<r;c++)o.push(t+c*n);return o}).bind(void 0),function(){var t=this;i(this,T);var e=function(){return i(this,t),{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}}.bind(this);try{return new MouseEvent("t"),function(n,o,r){void 0===r&&(r=e()),i(this,t),n.dispatchEvent(new MouseEvent(o,r))}.bind(this)}catch(n){return function(n,o,r){void 0===r&&(r=e()),i(this,t);var c=E.createEvent("MouseEvent");c.initMouseEvent(o,r.bubbles,r.cancelable,g,0,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.dispatchEvent(c)}.bind(this)}}.bind(void 0)(),function(t,e,n){i(this,T);var o=new Touch(q({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[o],targetTouches:[],changedTouches:[o]}))}.bind(void 0);function A(t,e){var n=t;for(var i in e)n=n.replace(new RegExp("{="+i+"}","g"),e[i]);return n}function D(t){var e,n,o,r=this,c=this.config,a=function(){i(this,r);var t=n.shift();return t&&e&&C(e)&&t in e?(e=e[t],a()):t?void 0:e}.bind(this);Object.keys(c).forEach(function(u){i(this,r),e=t,n=u.split("_"),o=a(),P(o)&&(c[u]=o)}.bind(this)),this.api&&(this.state.orgConfig=t)}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e,i=1;i<arguments.length;i++)e=null!=arguments[i]?arguments[i]:{},i%2?N(Object(e),!0).forEach((function(i){n(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var B=function(t){var e,n;function o(e){var n=t.call(this,e)||this;return n.config=void 0,n.element=void 0,n.config=new s,c(n)||c(n)}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,a(e,n);var r=o.prototype;return r.$beforeInit=function(){D.call(this,this.options)},r.$init=function(){var t,e=this.config,n=e.class,i=e.selector,o=e.style,r=document.querySelector(i||"."+(n||f));if(!r){var c=this.$$.$el.chart.node();r=document.createElement("table"),c.parentNode.insertBefore(r,c.nextSibling)}if("TABLE"!==r.tagName){var a=document.createElement("table");r.appendChild(a),r=a}if(o&&!document.getElementById(l)){var u=document.createElement("style");u.id=l,u.innerHTML=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(u)}(t=r.classList).add.apply(t,[o&&f,n].filter(Boolean)),this.element=r},r.generateTable=function(){var t=this,e=this.$$,n=this.config,o=this.element,r=e.filterTargetsToShow(e.data.targets),c=A(h,{title:r.length?this.config.categoryTitle:""}),a="",u=[];r.forEach(function(e){var n=this;i(this,t),c+=A(h,{title:e.id}),e.values.forEach(function(t,e){i(this,n),u[e]||(u[e]=[t.x]),u[e].push(t.value)}.bind(this))}.bind(this)),u.forEach(function(e){var o=this;i(this,t),a+="<tr>"+e.map(function(t,e){return i(this,o),A(e?p:v,{value:0===e?n.categoryFormat.bind(this)(t):x(t)?t.toLocaleString():""})}.bind(this)).join("")+"</tr>"}.bind(this));var s=A(d,I(I({},n),{},{title:n.title||e.config.title_text||"",thead:c,tbody:a})).replace(/<[^>]+><\/[^>]+>/g,"");o.innerHTML=s},r.$redraw=function(){var t=this.$$.state;t.resizing||!this.config.updateOnToggle&&t.toggling||this.generateTable()},r.$willDestroy=function(){if(this.element.parentNode.removeChild(this.element),1===this.$$.charts.length){var t,e=document.getElementById(l);null==e||null==(t=e.parentNode)||t.removeChild(e)}},o}(u)}(),r=r.default}()}));